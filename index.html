<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Anem a Briza del Mar</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Estilos para el mensaje de error */
        .mensaje-error {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            animation: slideIn 0.5s ease-out;
        }

        .mensaje-error-contenido {
            background-color: #fff;
            border-left: 4px solid #ff4444;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 15px 20px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 300px;
        }

        .mensaje-error-contenido i {
            color: #ff4444;
            font-size: 20px;
        }

        .mensaje-error-contenido p {
            margin: 0;
            color: #333;
            font-size: 14px;
            flex-grow: 1;
        }

        .cerrar-mensaje {
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            font-size: 18px;
            padding: 0;
            line-height: 1;
        }

        .cerrar-mensaje:hover {
            color: #333;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        .mensaje-error.cerrando {
            animation: slideOut 0.5s ease-in forwards;
        }

        /* Estilos para el modal de reserva */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .close {
            position: absolute;
            right: 20px;
            top: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        .close:hover {
            color: #333;
        }

        /* Estilos compartidos para resumen y factura */
        .resumen-reserva, .factura {
            margin-bottom: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid #dee2e6;
        }

        .resumen-reserva h3, .factura h3 {
            color: #2c3e50;
            font-size: 1.5em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #007bff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .resumen-reserva h3 i, .factura h3 i {
            color: #007bff;
        }

        .resumen-reserva p, .factura-detalles > div {
            margin: 12px 0;
            padding: 12px 15px;
            background-color: white;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
        }

        .resumen-reserva p:hover, .factura-detalles > div:hover {
            transform: translateX(5px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-color: #007bff;
        }

        .resumen-reserva p strong, .factura-detalles strong {
            color: #2c3e50;
            font-weight: 600;
            font-size: 1.1em;
        }

        .resumen-reserva p span, .factura-detalles span {
            color: #007bff;
            font-weight: 500;
            font-size: 1.1em;
        }

        .factura-detalles .total {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            border-radius: 6px;
            font-weight: bold;
            font-size: 1.2em;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: none;
        }

        .factura-detalles .total:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .factura-detalles .total strong,
        .factura-detalles .total span {
            color: white;
            font-size: 1.2em;
        }

        .detalle-dias {
            background-color: #e3f2fd !important;
            border-left: 4px solid #007bff;
            margin: 15px 0;
        }

        .detalle-dias strong,
        .detalle-dias span {
            color: #0d47a1 !important;
        }

        .seccion-desayunos {
            margin: 20px 0;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 6px;
        }

        .desayunos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .desayuno-opcion {
            background-color: #fff;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
        }

        .desayuno-opcion:hover {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .desayuno-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .desayuno-header h4 {
            margin: 0;
            color: #333;
        }

        .desayuno-info {
            color: #666;
            font-size: 14px;
            margin: 10px 0;
        }

        .cantidad-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .btn-cantidad {
            background-color: #f0f0f0;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .btn-cantidad:hover {
            background-color: #e0e0e0;
        }

        .cantidad {
            font-size: 16px;
            font-weight: bold;
            min-width: 30px;
            text-align: center;
        }

        .factura {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid #dee2e6;
        }

        .factura h3 {
            color: #2c3e50;
            font-size: 1.5em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #007bff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .factura h3 i {
            color: #007bff;
        }

        .factura-detalles {
            margin-top: 10px;
        }

        .factura-detalles p {
            margin: 12px 0;
            padding: 8px 12px;
            background-color: white;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .factura-detalles p strong {
            color: #2c3e50;
            font-weight: 600;
        }

        .factura-detalles p span {
            color: #007bff;
            font-weight: 500;
        }

        .factura-detalles .total {
            margin-top: 15px;
            padding: 12px;
            background-color: #007bff;
            color: white;
            border-radius: 6px;
            font-weight: bold;
            font-size: 1.2em;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .factura-detalles .total span {
            color: white;
            font-size: 1.1em;
        }

        .modal-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        .modal-buttons button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-cancelar {
            background-color: #f0f0f0;
            color: #333;
        }

        .btn-confirmar {
            background-color: #007bff;
            color: white;
        }

        .btn-cancelar:hover {
            background-color: #e0e0e0;
        }

        .btn-confirmar:hover {
            background-color: #0056b3;
        }

        .desayuno-incluido {
            background-color: #e8f5e9 !important;
            border-left: 4px solid #4CAF50 !important;
            color: #2e7d32 !important;
            padding: 12px 15px;
            border-radius: 6px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .desayuno-incluido i {
            color: #4CAF50;
        }

        /* Estilo para el mensaje de desayuno opcional */
        .desayuno-opcional {
            background-color: #e3f2fd;
            color: #0d47a1;
            padding: 10px 15px;
            border-radius: 6px;
            margin-top: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            border: 1px solid #bbdefb;
        }

        .desayuno-opcional i {
            color: #0d47a1;
        }

        /* Estilo para el botón de confirmar */
        .btn-confirmar {
            background-color: #007bff;
            color: white;
        }

        .btn-confirmar:hover {
            background-color: #0056b3;
        }

        /* Estilos específicos para la factura */
        .factura {
            margin-bottom: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid #dee2e6;
        }

        .factura h3 {
            color: #2c3e50;
            font-size: 1.5em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #007bff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .factura h3 i {
            color: #007bff;
        }

        .factura-detalles {
            margin-top: 20px;
        }

        .factura-detalles > div {
            margin: 12px 0;
            padding: 12px 15px;
            background-color: white;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
        }

        .factura-detalles > div:hover {
            transform: translateX(5px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-color: #007bff;
        }

        .factura-detalles strong {
            color: #2c3e50;
            font-weight: 600;
            font-size: 1.1em;
        }

        .factura-detalles span {
            color: #007bff;
            font-weight: 500;
            font-size: 1.1em;
        }

        .factura-detalles .total {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            border-radius: 6px;
            font-weight: bold;
            font-size: 1.2em;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: none;
        }

        .factura-detalles .total:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .factura-detalles .total strong,
        .factura-detalles .total span {
            color: white;
            font-size: 1.2em;
        }

        .factura-detalles .detalle-dias {
            background-color: #e3f2fd !important;
            border-left: 4px solid #007bff;
            margin: 15px 0;
        }

        .factura-detalles .detalle-dias strong,
        .factura-detalles .detalle-dias span {
            color: #0d47a1 !important;
        }

        .factura-detalles .desayuno-incluido {
            background-color: #e8f5e9 !important;
            border-left: 4px solid #4CAF50 !important;
            color: #2e7d32 !important;
            padding: 12px 15px;
            border-radius: 6px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .factura-detalles .desayuno-incluido i {
            color: #4CAF50;
        }

        .factura-detalles .concepto-habitacion {
            background-color: #fff;
            border-left: 4px solid #007bff;
            margin: 15px 0;
        }

        .factura-detalles .concepto-habitacion strong,
        .factura-detalles .concepto-habitacion span {
            color: #007bff;
        }

        .factura-detalles .concepto-desayuno {
            background-color: #fff;
            border-left: 4px solid #ff9800;
            margin: 15px 0;
        }

        .factura-detalles .concepto-desayuno strong,
        .factura-detalles .concepto-desayuno span {
            color: #ff9800;
        }

        /* Estilos adicionales para el formulario de pago */
        .payment-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: 500;
            color: #333;
            font-size: 14px;
        }

        .form-group input {
            padding: 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.15);
        }

        .form-group input:invalid {
            border-color: #dc3545;
        }

        .form-group input:invalid:focus {
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.15);
        }

        .form-group input::placeholder {
            color: #adb5bd;
        }

        .payment-button {
            background-color: #007bff;
            color: white;
            padding: 14px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .payment-button:hover {
            background-color: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.2);
        }

        .payment-button:active {
            transform: translateY(0);
        }

        /* Estilos para mensajes de error en el formulario */
        .form-group .error-message {
            color: #dc3545;
            font-size: 12px;
            margin-top: 4px;
            display: none;
        }

        .form-group input:invalid + .error-message {
            display: block;
        }

        /* Estilos responsivos para el formulario de pago */
        @media (max-width: 768px) {
            .payment-content {
                margin: 20px auto;
                padding: 20px;
            }

            .form-group input {
                padding: 10px;
                font-size: 14px;
            }

            .payment-button {
                padding: 12px;
                font-size: 14px;
            }
        }

        /* Estilos para el modal de pago */
        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1002;
            justify-content: center;
            align-items: center;
        }

        .payment-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            position: relative;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .payment-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .payment-header h3 {
            color: #333;
            font-size: 24px;
            margin-bottom: 10px;
        }

        .payment-header p {
            color: #666;
            font-size: 16px;
        }

        .payment-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: 500;
            color: #333;
            font-size: 14px;
        }

        .form-group input {
            padding: 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.15);
        }

        .payment-button {
            background-color: #007bff;
            color: white;
            padding: 14px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .payment-button:hover {
            background-color: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.2);
        }

        /* Estilos responsivos para el modal de pago */
        @media (max-width: 768px) {
            .payment-content {
                width: 95%;
                padding: 20px;
            }

            .payment-header h3 {
                font-size: 20px;
            }

            .payment-header p {
                font-size: 14px;
            }

            .form-group input {
                padding: 10px;
                font-size: 14px;
            }

            .payment-button {
                padding: 12px;
                font-size: 14px;
            }
        }

        /* Estilos para el botón de aceptar */
        .accept-button {
            background-color: #28a745;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 20px;
        }

        .accept-button:hover {
            background-color: #218838;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.2);
        }

        .accept-button:active {
            transform: translateY(0);
        }

        .accept-button i {
            font-size: 18px;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <h1>Anem a Briza del Mar</h1>
            </div>
            <ul class="nav-links">
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="#habitaciones">Habitaciones</a></li>
                <li><a href="#paquetes">Carta</a></li>
                <li><a href="#contacto">Contacto</a></li>
            </ul>
        </nav>
    </header>

    <input type="hidden" id="tipoHabitacion" value="">

    <section id="inicio" class="hero">
        <div class="search-container">
            <h2>Encuentra tu estadía perfecta</h2>
            <div class="search-box">
                <form class="search-form" id="searchForm">
                    <div class="search-input">
                        <i class="fas fa-calendar"></i>
                        <input type="date" id="fechaEntrada" placeholder="Llegada" required>
                    </div>
                    <div class="search-input">
                        <i class="fas fa-calendar"></i>
                        <input type="date" id="fechaSalida" placeholder="Salida" required>
                    </div>
                    <div class="search-input">
                        <i class="fas fa-user"></i>
                        <select id="numHuespedes" required>
                            <option value="">Huéspedes</option>
                            <option value="1">1 Huésped</option>
                            <option value="2">2 Huéspedes</option>
                            <option value="3">3 Huéspedes</option>
                            <option value="4">4 Huéspedes</option>
                            <option value="5">5 Huéspedes</option>
                            <option value="6">6 Huéspedes</option>
                        </select>
                    </div>
                    <button type="submit" class="search-button">Buscar</button>
                </form>
            </div>
            <div id="disponibilidadInfo" class="disponibilidad-info"></div>
        </div>
    </section>

    <section id="habitaciones" class="rooms">
        <h2>Nuestras Habitaciones</h2>
        <div class="room-grid">
            <div class="room-card" data-tipo="basica">
                <div class="room-image">
                    <img src="imagen del lugar/cuarto_basico.jpg" alt="Habitación Básica">
                    <span class="price">$10/noche</span>
                    <div class="disponibilidad-badge disponible">Disponible</div>
                </div>
                <div class="room-info">
                    <h3>Habitación Básica</h3>
                    <div class="precio-total">
                        <p class="precio-original">$10 por noche</p>
                        <p class="precio-final">Total: $<span class="total-noches">10</span></p>
                    </div>
                    <ul>
                        <li><i class="fas fa-bed"></i> 2 camas</li>
                        <li><i class="fas fa-bath"></i> 1 baño</li>
                        <li><i class="fas fa-fan"></i> Ventilador</li>
                    </ul>
                    <button class="book-now">Reservar Ahora</button>
                </div>
            </div>

            <div class="room-card" data-tipo="intermedia">
                <div class="room-image">
                    <img src="imagen del lugar/cuarto_intermedio.jpg" alt="Habitación Intermedia">
                    <span class="price">$25/noche</span>
                    <div class="disponibilidad-badge disponible">Disponible</div>
                </div>
                <div class="room-info">
                    <h3>Habitación Intermedia</h3>
                    <div class="precio-total">
                        <p class="precio-original">$25 por noche</p>
                        <p class="precio-final">Total: $<span class="total-noches">25</span></p>
                    </div>
                    <ul>
                        <li><i class="fas fa-bed"></i> 1 cama matrimonial + 2 camas</li>
                        <li><i class="fas fa-bath"></i> 2 baños</li>
                        <li><i class="fas fa-tv"></i> TV</li>
                        <li><i class="fas fa-coffee"></i> Desayuno incluido</li>
                    </ul>
                    <button class="book-now">Reservar Ahora</button>
                </div>
            </div>

            <div class="room-card" data-tipo="presidencial">
                <div class="room-image">
                    <img src="imagen del lugar/Suites presidenciales_2.jpg" alt="Suite Presidencial">
                    <span class="price">$45/noche</span>
                    <div class="disponibilidad-badge disponible">Disponible</div>
                </div>
                <div class="room-info">
                    <h3>Suite Presidencial</h3>
                    <div class="precio-total">
                        <p class="precio-original">$45 por noche</p>
                        <p class="precio-final">Total: $<span class="total-noches">45</span></p>
                    </div>
                    <ul>
                        <li><i class="fas fa-bed"></i> Cama King + 2 camas</li>
                        <li><i class="fas fa-hot-tub"></i> Jacuzzi</li>
                        <li><i class="fas fa-tv"></i> TV</li>
                        <li><i class="fas fa-glass-martini-alt"></i> Minibar</li>
                        <li><i class="fas fa-mountain"></i> Vista panorámica</li>
                        <li><i class="fas fa-coffee"></i> Desayuno incluido</li>
                    </ul>
                    <button class="book-now">Reservar Ahora</button>
                </div>
            </div>
        </div>
    </section>

    <section id="paquetes" class="section">
    <h2>Carta de Desayunos</h2>
        <div class="container">
            <div class="packages-grid">
                <div class="package-card">
                    <img src="desayuno y paquetes/comprar_desayuno_continental.jpg" alt="Desayuno Básico">
                    <h3>Desayuno Básico</h3>
                    <p>Desayuno continental con café, jugo, frutas y panadería.</p>
                    <div class="package-price">
                        <span class="price">$8</span>
                    </div>
                </div>
                <div class="package-card">
                    <img src="desayuno y paquetes/familiar.jpg" alt="Desayuno Familiar">
                    <h3>Desayuno Familiar</h3>
                    <p>Desayuno completo con opciones calientes y frías para toda la familia.</p>
                    <div class="package-price">
                        <span class="price">$12</span>
                    </div>
                </div>
                <div class="package-card">
                    <img src="desayuno y paquetes/familiar_Pareja.jpg" alt="Desayuno Pareja y familiar">
                    <h3>Desayuno Pareja</h3>
                    <p>Desayuno romántico con champán y delicias especiales.</p>
                    <div class="package-price">
                        <span class="price">$15</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contacto" class="contact">
        <h2>Contacto</h2>
        <div class="contact-container">
            <div class="contact-info">
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <p>Dirección: [Dirección del Hotel]</p>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <p>Teléfono: [Número de teléfono]</p>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <p>Email: [Email del hotel]</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Hotel Anem a Briza del Mar</h3>
                <p>Tu hogar lejos de casa</p>
            </div>
            <div class="footer-section">
                <h3>Enlaces Rápidos</h3>
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#habitaciones">Habitaciones</a></li>
                    <li><a href="#paquetes">Paquetes</a></li>
                    <li><a href="#reservas">Reservas</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Síguenos</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Hotel Anem a Briza del Mar. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Modal de Reserva -->
    <div id="modalReserva" class="modal">
        <div class="modal-content">
            <span class="close" onclick="cerrarModalReserva()">&times;</span>
            <h2>Confirmar Reserva</h2>
            <div id="resumenReserva"></div>
            
            <!-- Sección de Desayunos (solo para habitación básica) -->
            <div id="seccionDesayunos" style="display: none;">
                <h3>Opciones de Desayuno</h3>
                <p class="desayuno-info">Selecciona los desayunos que desees. El total de desayunos no debe exceder el número de huéspedes. Los desayunos seleccionados estarán incluidos durante toda tu estadía.</p>
                <div class="desayunos-grid">
                    <div class="desayuno-opcion" data-tipo="basico">
                        <div class="desayuno-header">
                            <h4>Desayuno Básico</h4>
                            <p class="precio">$8 por persona</p>
                        </div>
                        <p>Incluye: Café, jugo, pan y fruta</p>
                        <div class="cantidad-control" style="display: none;">
                            <button type="button" class="btn-cantidad" onclick="ajustarCantidad('basico', -1)">-</button>
                            <span class="cantidad">0</span>
                            <button type="button" class="btn-cantidad" onclick="ajustarCantidad('basico', 1)">+</button>
                        </div>
                    </div>
                    <div class="desayuno-opcion" data-tipo="familiar">
                        <div class="desayuno-header">
                            <h4>Desayuno Familiar</h4>
                            <p class="precio">$12 por persona</p>
                        </div>
                        <p>Incluye: Desayuno básico + huevos y tocino</p>
                        <div class="cantidad-control" style="display: none;">
                            <button type="button" class="btn-cantidad" onclick="ajustarCantidad('familiar', -1)">-</button>
                            <span class="cantidad">0</span>
                            <button type="button" class="btn-cantidad" onclick="ajustarCantidad('familiar', 1)">+</button>
                        </div>
                    </div>
                    <div class="desayuno-opcion" data-tipo="pareja">
                        <div class="desayuno-header">
                            <h4>Desayuno Pareja</h4>
                            <p class="precio">$15 por persona</p>
                        </div>
                        <p>Incluye: Desayuno básico + champán y delicias especiales</p>
                        <div class="cantidad-control" style="display: none;">
                            <button type="button" class="btn-cantidad" onclick="ajustarCantidad('pareja', -1)">-</button>
                            <span class="cantidad">0</span>
                            <button type="button" class="btn-cantidad" onclick="ajustarCantidad('pareja', 1)">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Factura -->
            <div class="factura">
                <h3><i class="fas fa-file-invoice-dollar"></i> Factura</h3>
                <div id="facturaDetalles"></div>
            </div>

            <div class="modal-buttons">
                <button id="cancelarReserva" onclick="cerrarModalReserva()">Cancelar</button>
                <button id="confirmarReserva" onclick="mostrarModalPago()">Confirmar Reserva</button>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmación -->
    <div id="modalConfirmacion" class="modal-confirmacion">
        <div class="confirmacion-reserva">
            <!-- El contenido se generará dinámicamente -->
        </div>
    </div>

    <!-- Modal de Pago -->
    <div id="paymentModal" class="payment-modal">
        <div class="payment-content">
            <span class="close" onclick="cerrarModalPago()">&times;</span>
            <div class="payment-header">
                <h3>Pago de Reserva</h3>
                <p>Complete sus datos personales y de pago para confirmar la reserva</p>
            </div>
            <form class="payment-form" id="paymentForm">
                <div class="form-group">
                    <label for="email">Correo Electrónico</label>
                    <input type="email" id="email" placeholder="ejemplo@correo.com" required>
                </div>
                <div class="form-group">
                    <label for="phone">Teléfono</label>
                    <input type="tel" id="phone" placeholder="(123) 456-7890" maxlength="15" required>
                </div>
                <div class="form-group">
                    <label for="cardNumber">Número de Tarjeta</label>
                    <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" required>
                </div>
                <div class="form-group">
                    <label for="cardName">Nombre en la Tarjeta</label>
                    <input type="text" id="cardName" placeholder="Nombre como aparece en la tarjeta" pattern="[A-Za-z ]+" title="Solo letras y espacios permitidos" required>
                </div>
                <div class="form-group">
                    <label for="expiryDate">Fecha de Vencimiento</label>
                    <input type="text" id="expiryDate" placeholder="MM/AA" maxlength="5" required>
                </div>
                <div class="form-group">
                    <label for="cvv">CVV</label>
                    <input type="text" id="cvv" placeholder="123" maxlength="3" pattern="[0-9]{3}" title="Debe ser un número de 3 dígitos" required>
                </div>
                <button type="submit" class="payment-button">Pagar Ahora</button>
            </form>
        </div>
    </div>

    <!-- Modal de Bienvenida -->
    <div id="welcomeModal" class="welcome-modal">
        <div class="welcome-content">
            <div class="welcome-icon">
                <i class="fas fa-check"></i>
            </div>
            <h3 class="welcome-message">¡Reserva Confirmada!</h3>
            <p>Gracias por elegir Hotel Anem a Briza del Mar. Su reserva ha sido confirmada exitosamente.</p>
            <p>Hemos enviado los detalles de su reserva a su correo electrónico.</p>
            <button class="accept-button" onclick="finalizarReserva()">
                <i class="fas fa-check"></i> Aceptar
            </button>
        </div>
    </div>

    <script>
        // Cargar datos de habitaciones
        let habitacionesData = null;

        // Función para inicializar los datos
        async function inicializarDatos() {
            try {
                const response = await fetch('habitaciones.json');
                habitacionesData = await response.json();
                console.log('Datos cargados:', habitacionesData);
                actualizarDisponibilidad();
            } catch (error) {
                console.error('Error al cargar los datos:', error);
            }
        }

        // Función para validar las fechas
        function validarFechas(fechaEntrada, fechaSalida) {
            const hoy = new Date();
            hoy.setHours(0, 0, 0, 0); // Establecer la hora a 00:00:00
            
            const fechaEntradaObj = new Date(fechaEntrada);
            const fechaSalidaObj = new Date(fechaSalida);
            
            // Validar que la fecha de entrada no sea anterior a hoy
            if (fechaEntradaObj < hoy) {
                mostrarMensajeError('La fecha de entrada no puede ser anterior a hoy');
                return false;
            }
            
            // Validar que la fecha de salida no sea anterior a la fecha de entrada
            if (fechaSalidaObj <= fechaEntradaObj) {
                mostrarMensajeError('La fecha de salida debe ser posterior a la fecha de entrada');
                return false;
            }
            
            return true;
        }

        // Función para inicializar las fechas
        function inicializarFechas() {
            const fechaEntrada = document.getElementById('fechaEntrada');
            const fechaSalida = document.getElementById('fechaSalida');
            
            // Establecer la fecha mínima como hoy
            const hoy = new Date();
            const fechaMinima = hoy.toISOString().split('T')[0];
            fechaEntrada.min = fechaMinima;
            fechaSalida.min = fechaMinima;
            
            // Limpiar valores existentes
            fechaEntrada.value = '';
            fechaSalida.value = '';
            
            // Agregar event listeners
            fechaEntrada.addEventListener('change', function() {
                const fechaEntradaSeleccionada = new Date(this.value);
                fechaSalida.min = this.value;
                
                // Si la fecha de salida es anterior a la nueva fecha de entrada, actualizarla
                const fechaSalidaActual = new Date(fechaSalida.value);
                if (fechaSalidaActual <= fechaEntradaSeleccionada) {
                    fechaSalida.value = '';
                }
                
                if (this.value) {
                    actualizarDisponibilidad();
                }
            });

            fechaSalida.addEventListener('change', function() {
                const fechaEntradaValue = fechaEntrada.value;
                const fechaSalidaValue = this.value;
                
                if (!validarFechas(fechaEntradaValue, fechaSalidaValue)) {
                    this.value = '';
                    return;
                }
                
                if (this.value) {
                    actualizarDisponibilidad();
                }
            });
        }

        // Función para mostrar mensaje de error
        function mostrarMensajeError(mensaje) {
            // Remover mensajes de error existentes
            const mensajesExistentes = document.querySelectorAll('.mensaje-error');
            mensajesExistentes.forEach(msg => msg.remove());

            const mensajeError = document.createElement('div');
            mensajeError.className = 'mensaje-error';
            mensajeError.innerHTML = `
                <div class="mensaje-error-contenido">
                    <i class="fas fa-exclamation-circle"></i>
                    <p>${mensaje}</p>
                    <button class="cerrar-mensaje" title="Cerrar mensaje">&times;</button>
                </div>
            `;
            document.body.appendChild(mensajeError);

            // Cerrar mensaje al hacer clic en el botón
            mensajeError.querySelector('.cerrar-mensaje').addEventListener('click', () => {
                mensajeError.classList.add('cerrando');
                setTimeout(() => {
                    mensajeError.remove();
                }, 500);
            });

            // Cerrar mensaje automáticamente después de 5 segundos
            setTimeout(() => {
                if (mensajeError.parentNode) {
                    mensajeError.classList.add('cerrando');
                    setTimeout(() => {
                        if (mensajeError.parentNode) {
                            mensajeError.remove();
                        }
                    }, 500);
                }
            }, 5000);
        }

        // Función para calcular días entre dos fechas
        function calcularDias(fechaInicio, fechaFin) {
            const inicio = new Date(fechaInicio);
            const fin = new Date(fechaFin);
            const diffTime = Math.abs(fin - inicio);
            return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        }

        // Función para formatear precio
        function formatearPrecio(precio) {
            return precio.toLocaleString('es-ES', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }

        // Función para validar disponibilidad de habitaciones
        function validarDisponibilidad(fechaEntrada, fechaSalida, tipoHabitacion) {
            if (!habitacionesData || !habitacionesData.habitaciones[tipoHabitacion]) {
                return false;
            }

            const habitacion = habitacionesData.habitaciones[tipoHabitacion];
            
            // Verificar si hay habitaciones disponibles
            if (habitacion.disponibles <= 0) {
                return false;
            }

            // Aquí podrías agregar más validaciones según tus necesidades
            // Por ejemplo, verificar reservas existentes en esas fechas
            // Por ahora, simplemente verificamos si hay habitaciones disponibles

            return true;
        }

        // Función para actualizar disponibilidad y precios
        function actualizarDisponibilidad() {
            if (!habitacionesData) {
                console.log('Los datos aún no están cargados');
                return;
            }

            const fechaEntrada = document.getElementById('fechaEntrada').value;
            const fechaSalida = document.getElementById('fechaSalida').value;
            const numHuespedes = parseInt(document.getElementById('numHuespedes').value);

            console.log('Actualizando con:', { fechaEntrada, fechaSalida, numHuespedes });

            if (fechaEntrada && fechaSalida && numHuespedes) {
                const dias = calcularDias(fechaEntrada, fechaSalida);
                console.log('Días calculados:', dias);

                document.querySelectorAll('.room-card').forEach(card => {
                    const tipo = card.dataset.tipo;
                    const habitacion = habitacionesData.habitaciones[tipo];
                    const badge = card.querySelector('.disponibilidad-badge');
                    const precioOriginal = card.querySelector('.precio-original');
                    const precioFinal = card.querySelector('.precio-final .total-noches');
                    const priceTag = card.querySelector('.price');
                    const bookNowBtn = card.querySelector('.book-now');

                    // Verificar si la habitación puede alojar al número de huéspedes
                    const excedeCapacidad = numHuespedes > habitacion.max_huespedes;
                    
                    // Verificar disponibilidad para las fechas seleccionadas
                    const disponible = validarDisponibilidad(fechaEntrada, fechaSalida, tipo);
                    
                    // Actualizar disponibilidad y estilo
                    if (excedeCapacidad || !disponible) {
                        badge.textContent = 'No disponible';
                        badge.className = 'disponibilidad-badge no-disponible';
                        card.style.opacity = '0.7';
                        bookNowBtn.disabled = true;
                        bookNowBtn.style.cursor = 'not-allowed';
                        card.style.pointerEvents = 'none';
                    } else {
                        badge.textContent = `${habitacion.disponibles} disponibles`;
                        badge.className = 'disponibilidad-badge disponible';
                        card.style.opacity = '1';
                        bookNowBtn.disabled = false;
                        bookNowBtn.style.cursor = 'pointer';
                        card.style.pointerEvents = 'auto';
                    }

                    // Actualizar precios
                    const precioPorNoche = habitacion.precio_noche;
                    const total = precioPorNoche * dias;

                    // Actualizar precio por noche
                    if (precioOriginal) {
                        precioOriginal.textContent = `$${formatearPrecio(precioPorNoche)} por noche`;
                    }
                    if (priceTag) {
                        priceTag.textContent = `$${formatearPrecio(precioPorNoche)}/noche`;
                    }

                    // Actualizar precio total
                    if (precioFinal) {
                        precioFinal.textContent = formatearPrecio(total);
                    }
                });

                // Mostrar información de disponibilidad
                const disponibilidadInfo = document.getElementById('disponibilidadInfo');
                if (disponibilidadInfo) {
                    disponibilidadInfo.innerHTML = `
                        <p>Estadía de ${dias} ${dias === 1 ? 'día' : 'días'} para ${numHuespedes} ${numHuespedes === 1 ? 'huésped' : 'huéspedes'}</p>
                    `;
                }
            }
        }

        // Variables globales para el modal
        let reservaActual = null;

        // Función para mostrar el modal de reserva
        function mostrarModalReserva() {
            const fechaEntrada = document.getElementById('fechaEntrada').value;
            const fechaSalida = document.getElementById('fechaSalida').value;
            const numHuespedes = document.getElementById('numHuespedes').value;
            const tipoHabitacion = document.getElementById('tipoHabitacion').value;

            if (!fechaEntrada || !fechaSalida || !numHuespedes) {
                mostrarMensajeError('Por favor, seleccione las fechas de entrada y salida, y el número de huéspedes antes de reservar.');
                return;
            }

            const diasEstancia = calcularDiasEstancia(fechaEntrada, fechaSalida);
            const modal = document.getElementById('modalReserva');
            const modalContent = modal.querySelector('.modal-content');
            
            let content = `
                <span class="close" onclick="cerrarModalReserva()">&times;</span>
                <div class="resumen-reserva">
                    <h3><i class="fas fa-clipboard-list"></i> Resumen de la Reserva</h3>
                    <p>
                        <strong>Tipo de Habitación:</strong>
                        <span>${tipoHabitacion === 'basica' ? 'Básica' : tipoHabitacion === 'intermedia' ? 'Intermedia' : 'Presidencial'}</span>
                    </p>
                    <p>
                        <strong>Fecha de Entrada:</strong>
                        <span>${fechaEntrada}</span>
                    </p>
                    <p>
                        <strong>Fecha de Salida:</strong>
                        <span>${fechaSalida}</span>
                    </p>
                    <p>
                        <strong>Número de Huéspedes:</strong>
                        <span>${numHuespedes}</span>
                    </p>
                    <p>
                        <strong>Duración de la Estancia:</strong>
                        <span>${diasEstancia} días</span>
                    </p>
                </div>
            `;

            if (tipoHabitacion === 'basica') {
                content += `
                    <div class="seccion-desayunos">
                        <h3>Selección de Desayunos</h3>
                        <p class="desayuno-info">Seleccione los desayunos que desee. El total de desayunos no debe exceder el número de huéspedes (${numHuespedes}). Los desayunos seleccionados estarán incluidos durante toda su estadía.</p>
                        <div class="desayunos-grid">
                            <div class="desayuno-opcion" data-tipo="basico">
                                <div class="desayuno-header">
                                    <h4>Desayuno Básico</h4>
                                    <p class="precio">$8 por persona</p>
                                </div>
                                <p class="desayuno-info">Incluye: Café, jugo, pan y fruta</p>
                                <div class="cantidad-control">
                                    <button class="btn-cantidad" onclick="ajustarCantidadDesayuno('basico', -1)">-</button>
                                    <span class="cantidad" id="cantidadBasico">0</span>
                                    <button class="btn-cantidad" onclick="ajustarCantidadDesayuno('basico', 1)">+</button>
                                </div>
                            </div>
                            <div class="desayuno-opcion" data-tipo="familiar">
                                <div class="desayuno-header">
                                    <h4>Desayuno Familiar</h4>
                                    <p class="precio">$12 por persona</p>
                                </div>
                                <p class="desayuno-info">Incluye: Desayuno básico + huevos y tocino</p>
                                <div class="cantidad-control">
                                    <button class="btn-cantidad" onclick="ajustarCantidadDesayuno('familiar', -1)">-</button>
                                    <span class="cantidad" id="cantidadFamiliar">0</span>
                                    <button class="btn-cantidad" onclick="ajustarCantidadDesayuno('familiar', 1)">+</button>
                                </div>
                            </div>
                            <div class="desayuno-opcion" data-tipo="pareja">
                                <div class="desayuno-header">
                                    <h4>Desayuno Pareja</h4>
                                    <p class="precio">$15 por persona</p>
                                </div>
                                <p class="desayuno-info">Incluye: Desayuno básico + champán y delicias especiales</p>
                                <div class="cantidad-control">
                                    <button class="btn-cantidad" onclick="ajustarCantidadDesayuno('pareja', -1)">-</button>
                                    <span class="cantidad" id="cantidadPareja">0</span>
                                    <button class="btn-cantidad" onclick="ajustarCantidadDesayuno('pareja', 1)">+</button>
                                </div>
                            </div>
                        </div>
                        <div class="desayuno-opcional">
                            <i class="fas fa-info-circle"></i>
                            <span>La selección de desayunos es opcional</span>
                        </div>
                    </div>
                `;
            } else {
                content += `
                    <div class="desayuno-incluido">
                        <i class="fas fa-check-circle"></i> Desayuno incluido durante toda su estadía
                    </div>
                `;
            }

            content += `
                <div class="factura">
                    <h3><i class="fas fa-file-invoice-dollar"></i> Factura</h3>
                    <div id="facturaDetalles"></div>
                </div>
                <div class="modal-buttons">
                    <button class="btn-cancelar" onclick="cerrarModalReserva()">Cancelar</button>
                    <button class="btn-confirmar" onclick="mostrarModalPago()">Confirmar Reserva</button>
                </div>
            `;

            modalContent.innerHTML = content;
            modal.style.display = 'flex';
            actualizarFactura();
        }

        function ajustarCantidadDesayuno(tipo, cambio) {
            const cantidadElement = document.getElementById(`cantidad${tipo.charAt(0).toUpperCase() + tipo.slice(1)}`);
            const cantidadActual = parseInt(cantidadElement.textContent);
            const numHuespedes = parseInt(document.getElementById('numHuespedes').value);
            
            // Calcular el total de desayunos seleccionados
            let totalDesayunos = 0;
            document.querySelectorAll('.cantidad').forEach(element => {
                if (element.id !== cantidadElement.id) {
                    totalDesayunos += parseInt(element.textContent);
                }
            });

            const nuevaCantidad = cantidadActual + cambio;
            
            if (nuevaCantidad >= 0 && (totalDesayunos + nuevaCantidad) <= numHuespedes) {
                cantidadElement.textContent = nuevaCantidad;
                actualizarFactura();
            } else if (nuevaCantidad > 0) {
                mostrarMensajeError(`No puede seleccionar más desayunos que el número de huéspedes (${numHuespedes})`);
            }
        }

        function actualizarFactura() {
            const tipoHabitacion = document.getElementById('tipoHabitacion').value;
            const diasEstancia = calcularDiasEstancia(
                document.getElementById('fechaEntrada').value,
                document.getElementById('fechaSalida').value
            );
            
            let total = 0;
            let detalles = '';

            // Precio base de la habitación
            const preciosHabitacion = {
                'basica': 10,
                'intermedia': 25,
                'presidencial': 45
            };

            const precioHabitacion = preciosHabitacion[tipoHabitacion] * diasEstancia;
            total += precioHabitacion;

            // Estructura HTML de la factura
            detalles = `
                <div class="factura-detalles">
                    <div class="concepto-habitacion">
                        <strong>Habitación ${tipoHabitacion === 'basica' ? 'Básica' : tipoHabitacion === 'intermedia' ? 'Intermedia' : 'Presidencial'}</strong>
                        <span>$${precioHabitacion}</span>
                    </div>
            `;

            // Agregar desayunos si es habitación básica
            if (tipoHabitacion === 'basica') {
                const preciosDesayuno = {
                    'basico': 8,
                    'familiar': 12,
                    'pareja': 15
                };

                let hayDesayunosSeleccionados = false;
                for (const tipo in preciosDesayuno) {
                    const cantidad = parseInt(document.getElementById(`cantidad${tipo.charAt(0).toUpperCase() + tipo.slice(1)}`).textContent);
                    if (cantidad > 0) {
                        hayDesayunosSeleccionados = true;
                        const precioDesayuno = preciosDesayuno[tipo];
                        total += precioDesayuno * cantidad;
                        detalles += `
                            <div class="concepto-desayuno">
                                <strong>Desayuno ${tipo.charAt(0).toUpperCase() + tipo.slice(1)} (${cantidad} persona${cantidad > 1 ? 's' : ''})</strong>
                                <span>$${precioDesayuno * cantidad}</span>
                            </div>
                        `;
                    }
                }
            } else {
                detalles += `
                    <div class="desayuno-incluido">
                        <i class="fas fa-check-circle"></i>
                        <strong>Desayuno Incluido</strong>
                        <span>Gratis</span>
                    </div>
                `;
            }

            detalles += `
                    <div class="total">
                        <strong>Total a Pagar</strong>
                        <span>$${total}</span>
                    </div>
                </div>
            `;

            document.getElementById('facturaDetalles').innerHTML = detalles;
        }

        function calcularDiasEstancia(fechaEntrada, fechaSalida) {
            const entrada = new Date(fechaEntrada);
            const salida = new Date(fechaSalida);
            const diffTime = Math.abs(salida - entrada);
            return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        }

        // Función para limpiar selecciones
        function limpiarSelecciones() {
            document.querySelectorAll('.cantidad').forEach(element => {
                element.textContent = '0';
            });
            document.getElementById('resumenReserva').innerHTML = '';
        }

        // Función para cerrar el modal de reserva
        function cerrarModalReserva() {
            const modal = document.getElementById('modalReserva');
            modal.style.display = 'none';
            limpiarSelecciones();
        }

        // Event listeners para los botones de reserva
        document.querySelectorAll('.book-now').forEach(button => {
            button.addEventListener('click', function() {
                const tipoHabitacion = this.closest('.room-card').dataset.tipo;
                document.getElementById('tipoHabitacion').value = tipoHabitacion;
                mostrarModalReserva();
            });
        });

        // Event listener para el formulario de pago
        document.getElementById('paymentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            if (validarFormularioPago()) {
                cerrarModalPago();
                mostrarModalBienvenida();
            }
        });

        // Función para validar el formulario de pago
        function validarFormularioPago() {
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const cardNumber = document.getElementById('cardNumber').value;
            const cardName = document.getElementById('cardName').value;
            const expiryDate = document.getElementById('expiryDate').value;
            const cvv = document.getElementById('cvv').value;

            // Validar email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                mostrarMensajeError('Por favor, ingrese un correo electrónico válido');
                return false;
            }

            // Validar teléfono (formato: (123) 456-7890)
            const phoneRegex = /^\(\d{3}\) \d{3}-\d{4}$/;
            if (!phoneRegex.test(phone)) {
                mostrarMensajeError('Por favor, ingrese un número de teléfono válido en el formato (123) 456-7890');
                return false;
            }

            // Validar número de tarjeta (16 dígitos)
            const cardNumberClean = cardNumber.replace(/\s/g, '');
            if (cardNumberClean.length !== 16 || !/^\d+$/.test(cardNumberClean)) {
                mostrarMensajeError('Por favor, ingrese un número de tarjeta válido de 16 dígitos');
                return false;
            }

            // Validar nombre de tarjeta (solo letras y espacios)
            if (!/^[A-Za-z ]+$/.test(cardName)) {
                mostrarMensajeError('El nombre en la tarjeta solo puede contener letras y espacios');
                return false;
            }

            // Validar fecha de vencimiento (formato MM/AA)
            const expiryRegex = /^(0[1-9]|1[0-2])\/([0-9]{2})$/;
            if (!expiryRegex.test(expiryDate)) {
                mostrarMensajeError('Por favor, ingrese una fecha de vencimiento válida en el formato MM/AA');
                return false;
            }

            // Validar CVV (3 dígitos)
            if (!/^\d{3}$/.test(cvv)) {
                mostrarMensajeError('El CVV debe ser un número de 3 dígitos');
                return false;
            }

            return true;
        }

        // Formateo de número de teléfono
        document.getElementById('phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 0) {
                if (value.length <= 3) {
                    value = `(${value}`;
                } else if (value.length <= 6) {
                    value = `(${value.substring(0, 3)}) ${value.substring(3)}`;
                } else {
                    value = `(${value.substring(0, 3)}) ${value.substring(3, 6)}-${value.substring(6, 10)}`;
                }
            }
            e.target.value = value;
        });

        // Formateo de número de tarjeta
        document.getElementById('cardNumber').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            let formattedValue = '';
            for(let i = 0; i < value.length; i++) {
                if(i > 0 && i % 4 === 0) {
                    formattedValue += ' ';
                }
                formattedValue += value[i];
            }
            e.target.value = formattedValue;
        });

        // Formateo de fecha de vencimiento
        document.getElementById('expiryDate').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if(value.length >= 2) {
                value = value.substring(0,2) + '/' + value.substring(2);
            }
            e.target.value = value;
        });

        // Validación de nombre de tarjeta (solo letras y espacios)
        document.getElementById('cardName').addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^A-Za-z ]/g, '');
            e.target.value = value;
        });

        // Función para mostrar el modal de bienvenida
        function mostrarModalBienvenida() {
            document.getElementById('welcomeModal').style.display = 'block';
        }

        // Función para mostrar el modal de pago
        function mostrarModalPago() {
            const modal = document.getElementById('paymentModal');
            if (modal) {
                modal.style.display = 'flex';
                // Limpiar el formulario
                document.getElementById('paymentForm').reset();
            } else {
                console.error('Modal de pago no encontrado');
            }
        }

        // Función para cerrar el modal de pago
        function cerrarModalPago() {
            const modal = document.getElementById('paymentModal');
            if (modal) {
                modal.style.display = 'none';
            }
        }

        // Event listener para cerrar el modal de pago con el botón X
        document.querySelector('#paymentModal .close').addEventListener('click', cerrarModalPago);

        // Event listener para cerrar el modal de pago al hacer clic fuera
        document.getElementById('paymentModal').addEventListener('click', function(e) {
            if (e.target === this) {
                cerrarModalPago();
            }
        });

        // Descargar comprobante
        function descargarComprobante() {
            const comprobante = document.getElementById('resumenReserva');
            const comprobanteHTML = comprobante.innerHTML;
            const element = document.createElement('a');
            const file = new Blob([comprobanteHTML], {type: 'text/html'});
            element.href = URL.createObjectURL(file);
            element.download = 'comprobante-reserva.html';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM cargado, inicializando...');
            inicializarDatos();
            inicializarFechas();

            // Event listeners para el formulario
            document.getElementById('searchForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const fechaEntrada = document.getElementById('fechaEntrada');
                const fechaSalida = document.getElementById('fechaSalida');
                
                if (!fechaEntrada.value || !fechaSalida.value) {
                    mostrarMensajeError('Por favor, seleccione las fechas de entrada y salida');
                    return;
                }
                
                if (!validarFechas(fechaEntrada.value, fechaSalida.value)) {
                    return;
                }
                
                console.log('Formulario enviado');
                actualizarDisponibilidad();
            });

            document.getElementById('numHuespedes').addEventListener('change', function() {
                console.log('Número de huéspedes cambiado');
                actualizarDisponibilidad();
            });

            // Event listeners para las opciones de desayuno
            document.querySelectorAll('.desayuno-opcion').forEach(opcion => {
                opcion.addEventListener('click', function(e) {
                    if (!e.target.classList.contains('btn-cantidad')) {
                        const tipo = this.dataset.tipo;
                        const seleccion = this.querySelector('.cantidad-control');
                        const cantidad = this.querySelector('.cantidad');
                        
                        // Deseleccionar otros
                        document.querySelectorAll('.desayuno-opcion').forEach(o => {
                            o.classList.remove('seleccionada');
                            const ctrl = o.querySelector('.cantidad-control');
                            if (ctrl) ctrl.style.display = 'none';
                            const cant = o.querySelector('.cantidad');
                            if (cant) cant.textContent = '0';
                        });

                        // Seleccionar este
                        this.classList.add('seleccionada');
                        seleccion.style.display = 'flex';
                        cantidad.textContent = '0';
                        
                        actualizarFactura();
                    }
                });
            });

            // Event listener para confirmar reserva
            document.getElementById('confirmarReserva').addEventListener('click', function() {
                confirmarReserva();
            });

            // Event listener para cancelar reserva
            document.getElementById('cancelarReserva').addEventListener('click', function() {
                document.getElementById('modalReserva').style.display = 'none';
            });
        });

        // Función para actualizar el contador de habitaciones
        function actualizarContadorHabitaciones(tipoHabitacion) {
            if (habitacionesData && habitacionesData.habitaciones[tipoHabitacion]) {
                habitacionesData.habitaciones[tipoHabitacion].disponibles--;
                
                // Actualizar la interfaz
                const roomCard = document.querySelector(`.room-card[data-tipo="${tipoHabitacion}"]`);
                if (roomCard) {
                    const badge = roomCard.querySelector('.disponibilidad-badge');
                    if (badge) {
                        const disponibles = habitacionesData.habitaciones[tipoHabitacion].disponibles;
                        badge.textContent = `${disponibles} disponibles`;
                        
                        if (disponibles === 0) {
                            badge.className = 'disponibilidad-badge no-disponible';
                            badge.textContent = 'No disponible';
                            roomCard.style.opacity = '0.7';
                            const bookNowBtn = roomCard.querySelector('.book-now');
                            if (bookNowBtn) {
                                bookNowBtn.disabled = true;
                                bookNowBtn.style.cursor = 'not-allowed';
                            }
                        }
                    }
                }
            }
        }

        // Función para finalizar la reserva
        function finalizarReserva() {
            const tipoHabitacion = document.getElementById('tipoHabitacion').value;
            
            // Actualizar contador de habitaciones
            actualizarContadorHabitaciones(tipoHabitacion);
            
            // Cerrar el modal de bienvenida
            document.getElementById('welcomeModal').style.display = 'none';
            
            // Limpiar el formulario de búsqueda
            document.getElementById('searchForm').reset();
            
            // Limpiar la información de disponibilidad
            document.getElementById('disponibilidadInfo').innerHTML = '';
            
            // Limpiar los campos de fecha
            const fechaEntrada = document.getElementById('fechaEntrada');
            const fechaSalida = document.getElementById('fechaSalida');
            fechaEntrada.value = '';
            fechaSalida.value = '';
            
            // Limpiar el selector de huéspedes
            document.getElementById('numHuespedes').value = '';
            
            // Limpiar el tipo de habitación
            document.getElementById('tipoHabitacion').value = '';
            
            // Actualizar la disponibilidad de todas las habitaciones
            actualizarDisponibilidad();
            
            // Mostrar mensaje de éxito
            mostrarMensajeError('¡Reserva realizada con éxito!');
            
            // Limpiar cualquier modal que pudiera estar abierto
            document.getElementById('modalReserva').style.display = 'none';
            document.getElementById('paymentModal').style.display = 'none';
            
            // Limpiar la factura y el resumen de reserva
            document.getElementById('facturaDetalles').innerHTML = '';
            document.getElementById('resumenReserva').innerHTML = '';
            
            // Limpiar los contadores de desayunos si existen
            document.querySelectorAll('.cantidad').forEach(element => {
                element.textContent = '0';
            });
            
            // Ocultar la sección de desayunos si está visible
            const seccionDesayunos = document.getElementById('seccionDesayunos');
            if (seccionDesayunos) {
                seccionDesayunos.style.display = 'none';
            }
        }
    </script>
</body>
</html> 